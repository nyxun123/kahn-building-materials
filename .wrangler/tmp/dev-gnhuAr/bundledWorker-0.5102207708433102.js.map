{
  "version": 3,
  "sources": ["../bundle-Xbr3Da/checked-fetch.js", "../bundle-RJsB8e/checked-fetch.js", "../../../dist/_worker.js", "../../../../../.npm-global/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../.npm-global/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-RJsB8e/middleware-insertion-facade.js", "../../../../../.npm-global/lib/node_modules/wrangler/templates/middleware/common.ts", "../bundle-RJsB8e/middleware-loader.entry.ts", "../../../../../.npm-global/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../.npm-global/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-Xbr3Da/middleware-insertion-facade.js", "../../../../../.npm-global/lib/node_modules/wrangler/templates/middleware/common.ts", "../bundle-Xbr3Da/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/.wrangler/tmp/dev-gnhuAr",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "// Cloudflare Pages Worker - \u5B8C\u5168\u81EA\u52A8\u5316\u6570\u636E\u5B58\u50A8\n// \u5185\u7F6E\u8054\u7CFB\u8868\u5355\u548C\u7BA1\u7406\u7CFB\u7EDF\uFF0C\u65E0\u9700\u624B\u52A8\u914D\u7F6E\nexport default {\n  async fetch(request, env, ctx) {\n    const url = new URL(request.url);\n    console.log('API\u8BF7\u6C42:', url.pathname, request.method);\n    \n    // Handle CORS preflight requests\n    if (request.method === 'OPTIONS') {\n      return new Response(null, {\n        status: 204,\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n          'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n          'Access-Control-Max-Age': '86400',\n        },\n      });\n    }\n    \n    // Handle contact API requests\n    if (url.pathname === '/api/contact' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleContactAPI');\n      return handleContactAPI(request, env);\n    }\n    \n    // Handle image upload requests\n    if (url.pathname === '/api/upload-image') {\n      console.log('\uD83C\uDFAF Routing to handleImageUpload');\n      if (request.method === 'POST') {\n        return handleImageUpload(request, env);\n      } else if (request.method === 'OPTIONS') {\n        return new Response(null, {\n          status: 204,\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'POST, OPTIONS',\n            'Access-Control-Allow-Headers': 'Content-Type',\n            'Access-Control-Max-Age': '86400',\n          },\n        });\n      }\n    }\n    \n    // Handle admin login\n    if (url.pathname === '/api/admin/login' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleAdminLogin');\n      return handleAdminLogin(request, env);\n    }\n    \n    // Handle public products API (no authentication required)\n    if (url.pathname === '/api/products' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handlePublicProducts');\n      return handlePublicProducts(request, env);\n    }\n    \n    // Handle get single product by product code (public, no auth required)\n    if (url.pathname.startsWith('/api/products/') && request.method === 'GET') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/products/') {\n        console.log('\uD83C\uDFAF Routing to handleGetSingleProductByCode');\n        const productCode = url.pathname.split('/').pop();\n        if (productCode) {\n          return handleGetSingleProductByCode(request, env, productCode);\n        }\n      }\n    }\n    \n    // Handle get products\n    if (url.pathname === '/api/admin/products' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetProducts');\n      return handleGetProducts(request, env);\n    }\n    \n    // Handle create product\n    if (url.pathname === '/api/admin/products' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleCreateProduct');\n      return handleCreateProduct(request, env);\n    }\n    \n    // Handle update product\n    if (url.pathname.startsWith('/api/admin/products/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/products/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdateProduct');\n        return handleUpdateProduct(request, env);\n      }\n    }\n    \n    // Handle delete product\n    if (url.pathname.startsWith('/api/admin/products/') && request.method === 'DELETE') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/products/') {\n        console.log('\uD83C\uDFAF Routing to handleDeleteProduct');\n        return handleDeleteProduct(request, env);\n      }\n    }\n    \n    // Handle get single product\n    if (url.pathname.startsWith('/api/admin/products/') && request.method === 'GET') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/products/') {\n        console.log('\uD83C\uDFAF Routing to handleGetSingleProduct');\n        return handleGetSingleProduct(request, env);\n      }\n    }\n    \n    // Handle get contacts\n    if (url.pathname === '/api/admin/contacts' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetContacts');\n      return handleGetContacts(request, env);\n    }\n    \n    // Handle update contact status\n    if (url.pathname.startsWith('/api/admin/contacts/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/contacts/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdateContact');\n        return handleUpdateContact(request, env);\n      }\n    }\n    \n    // Handle delete contact\n    if (url.pathname.startsWith('/api/admin/contacts/') && request.method === 'DELETE') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/contacts/') {\n        console.log('\uD83C\uDFAF Routing to handleDeleteContact');\n        return handleDeleteContact(request, env);\n      }\n    }\n    \n    // Handle get page contents\n    if (url.pathname === '/api/admin/contents' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetContents');\n      return handleGetContents(request, env);\n    }\n    \n    // Handle update page content\n    if (url.pathname.startsWith('/api/admin/contents/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/contents/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdateContent');\n        return handleUpdateContent(request, env);\n      }\n    }\n    \n    // Handle page-specific content APIs - GET public content for frontend\n    if (url.pathname === '/api/content/home' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetPageContent for home');\n      return handleGetPageContent(request, env, 'home');\n    }\n    if (url.pathname === '/api/content/products' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetPageContent for products');\n      return handleGetPageContent(request, env, 'products');\n    }\n    if (url.pathname === '/api/content/oem' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetPageContent for oem');\n      return handleGetPageContent(request, env, 'oem');\n    }\n    if (url.pathname === '/api/content/about' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetPageContent for about');\n      return handleGetPageContent(request, env, 'about');\n    }\n    if (url.pathname === '/api/content/contact' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetPageContent for contact');\n      return handleGetPageContent(request, env, 'contact');\n    }\n    \n    // Handle page-specific admin content APIs - CRUD for admin panel\n    if (url.pathname === '/api/admin/content/home' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetAdminPageContent for home');\n      return handleGetAdminPageContent(request, env, 'home');\n    }\n    if (url.pathname === '/api/admin/content/home' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleCreatePageContent for home');\n      return handleCreatePageContent(request, env, 'home');\n    }\n    if (url.pathname.startsWith('/api/admin/content/home/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/home/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdatePageContent for home');\n        return handleUpdatePageContent(request, env, 'home');\n      }\n    }\n    if (url.pathname.startsWith('/api/admin/content/home/') && request.method === 'DELETE') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/home/') {\n        console.log('\uD83C\uDFAF Routing to handleDeletePageContent for home');\n        return handleDeletePageContent(request, env, 'home');\n      }\n    }\n    \n    if (url.pathname === '/api/admin/content/products' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetAdminPageContent for products');\n      return handleGetAdminPageContent(request, env, 'products');\n    }\n    if (url.pathname === '/api/admin/content/products' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleCreatePageContent for products');\n      return handleCreatePageContent(request, env, 'products');\n    }\n    if (url.pathname.startsWith('/api/admin/content/products/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/products/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdatePageContent for products');\n        return handleUpdatePageContent(request, env, 'products');\n      }\n    }\n    if (url.pathname.startsWith('/api/admin/content/products/') && request.method === 'DELETE') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/products/') {\n        console.log('\uD83C\uDFAF Routing to handleDeletePageContent for products');\n        return handleDeletePageContent(request, env, 'products');\n      }\n    }\n    \n    if (url.pathname === '/api/admin/content/oem' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetAdminPageContent for oem');\n      return handleGetAdminPageContent(request, env, 'oem');\n    }\n    if (url.pathname === '/api/admin/content/oem' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleCreatePageContent for oem');\n      return handleCreatePageContent(request, env, 'oem');\n    }\n    if (url.pathname.startsWith('/api/admin/content/oem/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/oem/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdatePageContent for oem');\n        return handleUpdatePageContent(request, env, 'oem');\n      }\n    }\n    if (url.pathname.startsWith('/api/admin/content/oem/') && request.method === 'DELETE') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/oem/') {\n        console.log('\uD83C\uDFAF Routing to handleDeletePageContent for oem');\n        return handleDeletePageContent(request, env, 'oem');\n      }\n    }\n    \n    if (url.pathname === '/api/admin/content/about' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetAdminPageContent for about');\n      return handleGetAdminPageContent(request, env, 'about');\n    }\n    if (url.pathname === '/api/admin/content/about' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleCreatePageContent for about');\n      return handleCreatePageContent(request, env, 'about');\n    }\n    if (url.pathname.startsWith('/api/admin/content/about/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/about/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdatePageContent for about');\n        return handleUpdatePageContent(request, env, 'about');\n      }\n    }\n    if (url.pathname.startsWith('/api/admin/content/about/') && request.method === 'DELETE') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/about/') {\n        console.log('\uD83C\uDFAF Routing to handleDeletePageContent for about');\n        return handleDeletePageContent(request, env, 'about');\n      }\n    }\n    \n    if (url.pathname === '/api/admin/content/contact' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleGetAdminPageContent for contact');\n      return handleGetAdminPageContent(request, env, 'contact');\n    }\n    if (url.pathname === '/api/admin/content/contact' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleCreatePageContent for contact');\n      return handleCreatePageContent(request, env, 'contact');\n    }\n    if (url.pathname.startsWith('/api/admin/content/contact/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/contact/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdatePageContent for contact');\n        return handleUpdatePageContent(request, env, 'contact');\n      }\n    }\n    if (url.pathname.startsWith('/api/admin/content/contact/') && request.method === 'DELETE') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/content/contact/') {\n        console.log('\uD83C\uDFAF Routing to handleDeletePageContent for contact');\n        return handleDeletePageContent(request, env, 'contact');\n      }\n    }\n    \n    // Handle dashboard statistics API\n    if (url.pathname === '/api/admin/dashboard/stats' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleDashboardStats');\n      return handleDashboardStats(request, env);\n    }\n    \n    // Handle dashboard activities API\n    if (url.pathname === '/api/admin/dashboard/activities' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleDashboardActivities');\n      return handleDashboardActivities(request, env);\n    }\n    \n    // Handle dashboard system health API\n    if (url.pathname === '/api/admin/dashboard/health' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleDashboardHealth');\n      return handleDashboardHealth(request, env);\n    }\n    \n    // Handle company info API requests\n    if (url.pathname.startsWith('/api/company/info/') && request.method === 'GET') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/company/info/') {\n        console.log('\uD83C\uDFAF Routing to handleCompanyInfo');\n        return handleCompanyInfo(request, env);\n      }\n    }\n    \n    // Handle company content API requests\n    if (url.pathname.startsWith('/api/company/content/') && request.method === 'GET') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/company/content/') {\n        console.log('\uD83C\uDFAF Routing to handleCompanyContent');\n        return handleCompanyContent(request, env);\n      }\n    }\n    \n    // Handle admin company info API requests\n    if (url.pathname === '/api/admin/company/info' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleAdminCompanyInfo');\n      return handleAdminCompanyInfo(request, env);\n    }\n    \n    if (url.pathname === '/api/admin/company/info' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleCreateCompanyInfo');\n      return handleCreateCompanyInfo(request, env);\n    }\n    \n    if (url.pathname.startsWith('/api/admin/company/info/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/company/info/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdateCompanyInfo');\n        return handleUpdateCompanyInfo(request, env);\n      }\n    }\n    \n    if (url.pathname.startsWith('/api/admin/company/info/') && request.method === 'DELETE') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/company/info/') {\n        console.log('\uD83C\uDFAF Routing to handleDeleteCompanyInfo');\n        return handleDeleteCompanyInfo(request, env);\n      }\n    }\n    \n    // Handle admin company content API requests\n    if (url.pathname === '/api/admin/company/content' && request.method === 'GET') {\n      console.log('\uD83C\uDFAF Routing to handleAdminCompanyContent');\n      return handleAdminCompanyContent(request, env);\n    }\n    \n    if (url.pathname === '/api/admin/company/content' && request.method === 'POST') {\n      console.log('\uD83C\uDFAF Routing to handleCreateCompanyContent');\n      return handleCreateCompanyContent(request, env);\n    }\n    \n    if (url.pathname.startsWith('/api/admin/company/content/') && request.method === 'PUT') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/company/content/') {\n        console.log('\uD83C\uDFAF Routing to handleUpdateCompanyContent');\n        return handleUpdateCompanyContent(request, env);\n      }\n    }\n    \n    if (url.pathname.startsWith('/api/admin/company/content/') && request.method === 'DELETE') {\n      // Ensure we're not matching the root path\n      if (url.pathname !== '/api/admin/company/content/') {\n        console.log('\uD83C\uDFAF Routing to handleDeleteCompanyContent');\n        return handleDeleteCompanyContent(request, env);\n      }\n    }\n    \n    // Handle other API requests\n    if (url.pathname.startsWith('/api/')) {\n      console.log('\uD83C\uDFAF Routing to handleAPIProxy for unmatched API route:', url.pathname);\n      return handleAPIProxy(request, env);\n    }\n    \n    // Log unmatched routes\n    console.log('\u26A0\uFE0F  Unmatched route - falling back to static assets:', {\n      method: request.method,\n      pathname: url.pathname,\n      search: url.search\n    });\n    \n    // For all other requests, use Cloudflare Pages static serving\n    return env.ASSETS.fetch(request);\n  }\n};\n\n// Handle contact form API - \u4F18\u5316\u6027\u80FD\u7248\u672C\nasync function handleContactAPI(request, env) {\n  const startTime = performance.now();\n  \n  try {\n    let body;\n    try {\n      body = await request.json();\n    } catch (parseError) {\n      return createErrorResponse(400, '\u8BF7\u6C42\u683C\u5F0F\u9519\u8BEF\uFF1A\u65E0\u6548\u7684JSON\u6570\u636E');\n    }\n    \n    // \u5FEB\u901F\u9A8C\u8BC1\u57FA\u672C\u7ED3\u6784\n    if (!body?.data) {\n      return createErrorResponse(400, '\u8BF7\u6C42\u683C\u5F0F\u9519\u8BEF\uFF1A\u7F3A\u5C11data\u5B57\u6BB5');\n    }\n    \n    const data = body.data;\n    \n    // \u6279\u91CF\u9A8C\u8BC1\u5FC5\u586B\u5B57\u6BB5\n    const required = ['name', 'email', 'message'];\n    const missingFields = required.filter(field => !data[field]?.trim());\n    if (missingFields.length > 0) {\n      return createErrorResponse(400, `\u8BF7\u586B\u5199\u5FC5\u586B\u5B57\u6BB5: ${missingFields.join(', ')}`);\n    }\n    \n    // \u5FEB\u901F\u90AE\u7BB1\u683C\u5F0F\u9A8C\u8BC1\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(data.email.trim())) {\n      return createErrorResponse(400, '\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E');\n    }\n    \n    // \u4F18\u5316\u5783\u573E\u4FE1\u606F\u68C0\u67E5\n    const spamKeywords = [\n      'viagra', 'casino', 'lottery', 'winner', 'click here', 'free money',\n      'urgent', 'congratulations', 'million dollars', 'bitcoin', 'crypto'\n    ];\n    \n    const content = `${data.name} ${data.message}`.toLowerCase();\n    const spamScore = spamKeywords.reduce((count, keyword) => {\n      return count + (content.includes(keyword) ? 1 : 0);\n    }, 0);\n    \n    if (spamScore >= 2 || content.length > 5000) {\n      console.warn('\uD83D\uDEA8 \u7591\u4F3C\u5783\u573E\u4FE1\u606F:', { \n        spamScore, \n        contentLength: content.length,\n        email: data.email \n      });\n      return createErrorResponse(400, '\u68C0\u6D4B\u5230\u53EF\u7591\u5185\u5BB9\uFF0C\u8BF7\u91CD\u65B0\u586B\u5199');\n    }\n    \n    // \u6D88\u606F\u957F\u5EA6\u68C0\u67E5\n    const messageLength = data.message.trim().length;\n    if (messageLength < 10) {\n      return createErrorResponse(400, '\u6D88\u606F\u5185\u5BB9\u592A\u77ED\uFF0C\u8BF7\u63D0\u4F9B\u66F4\u591A\u4FE1\u606F');\n    }\n    if (messageLength > 2000) {\n      return createErrorResponse(400, '\u6D88\u606F\u5185\u5BB9\u8FC7\u957F\uFF0C\u8BF7\u7CBE\u7B80\u52302000\u5B57\u4EE5\u5185');\n    }\n    \n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E\uFF0C\u8BF7\u8054\u7CFB\u6280\u672F\u652F\u6301');\n    }\n\n    try {\n      // \u83B7\u53D6\u5BA2\u6237\u7AEF\u4FE1\u606F\n      const clientIP = request.headers.get('cf-connecting-ip') || \n                      request.headers.get('x-forwarded-for') || \n                      request.headers.get('x-real-ip') || \n                      'unknown';\n      const userAgent = request.headers.get('user-agent')?.substring(0, 500) || 'unknown';\n      \n      // \u6E05\u7406\u548C\u51C6\u5907\u6570\u636E\n      const contactData = {\n        name: data.name.trim().substring(0, 100),\n        email: data.email.trim().toLowerCase().substring(0, 255),\n        phone: data.phone?.trim().substring(0, 50) || '',\n        company: data.company?.trim().substring(0, 200) || '',\n        message: data.message.trim().substring(0, 2000),\n        ip_address: clientIP,\n        user_agent: userAgent\n      };\n\n      console.log('\uD83D\uDCDD \u5904\u7406\u8054\u7CFB\u8868\u5355:', {\n        name: contactData.name,\n        email: contactData.email,\n        hasPhone: !!contactData.phone,\n        hasCompany: !!contactData.company,\n        messageLength: contactData.message.length,\n        ip: clientIP\n      });\n\n      // \u9AD8\u6548\u63D2\u5165\u6570\u636E\n      const result = await env.DB.prepare(`\n        INSERT INTO contacts (name, email, phone, company, message, ip_address, user_agent)\n        VALUES (?, ?, ?, ?, ?, ?, ?)\n      `).bind(\n        contactData.name,\n        contactData.email,\n        contactData.phone,\n        contactData.company,\n        contactData.message,\n        contactData.ip_address,\n        contactData.user_agent\n      ).run();\n      \n      if (!result.meta?.last_row_id) {\n        throw new Error('\u8054\u7CFB\u4FE1\u606F\u4FDD\u5B58\u5931\u8D25\uFF1A\u672A\u83B7\u5F97\u8BB0\u5F55ID');\n      }\n\n      const elapsedTime = performance.now() - startTime;\n      \n      console.log('\u2705 \u8054\u7CFB\u8868\u5355\u4FDD\u5B58\u6210\u529F:', {\n        id: result.meta.last_row_id,\n        email: contactData.email,\n        time: `${elapsedTime.toFixed(2)}ms`\n      });\n      \n      // \u5F02\u6B65\u53D1\u9001\u901A\u77E5\uFF08\u4E0D\u963B\u585E\u54CD\u5E94\uFF09\n      sendNotification(contactData, env).catch(error => {\n        console.warn('\u901A\u77E5\u53D1\u9001\u5931\u8D25:', error);\n      });\n      \n      return new Response(JSON.stringify({\n        code: 200,\n        message: '\u6D88\u606F\u63D0\u4EA4\u6210\u529F\uFF0C\u6211\u4EEC\u5C06\u5C3D\u5FEB\u56DE\u590D\u60A8',\n        data: { \n          id: result.meta.last_row_id, \n          submitted_at: new Date().toISOString(),\n          storage: 'D1_DATABASE'\n        },\n        meta: {\n          processTime: elapsedTime.toFixed(2)\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n    } catch (dbError) {\n      const elapsedTime = performance.now() - startTime;\n      console.error('D1\u6570\u636E\u5E93\u9519\u8BEF:', {\n        error: dbError.message,\n        email: data.email,\n        time: `${elapsedTime.toFixed(2)}ms`\n      });\n      \n      return createErrorResponse(500, `\u6570\u636E\u5E93\u5B58\u50A8\u5931\u8D25: ${dbError.message}`);\n    }\n    \n  } catch (error) {\n    const elapsedTime = performance.now() - startTime;\n    console.error('\u8054\u7CFBAPI\u9519\u8BEF:', {\n      error: error.message,\n      time: `${elapsedTime.toFixed(2)}ms`\n    });\n    \n    return createErrorResponse(500, `\u670D\u52A1\u5668\u9519\u8BEF: ${error.message}`);\n  }\n}\n\n// \u53D1\u9001\u901A\u77E5\nasync function sendNotification(data, env) {\n  try {\n    // \u8BB0\u5F55\u5230\u63A7\u5236\u53F0\n    console.log('\u65B0\u8054\u7CFB\u6D88\u606F:', {\n      name: data.name,\n      email: data.email,\n      subject: data.subject,\n      message: data.message.substring(0, 100) + '...'\n    });\n    \n    // \u8FD9\u91CC\u53EF\u4EE5\u96C6\u6210\u90AE\u4EF6\u670D\u52A1\u3001Slack\u901A\u77E5\u7B49\n    // \u793A\u4F8B\uFF1A\u53D1\u9001\u5230\u5916\u90E8API\u6216\u90AE\u4EF6\u670D\u52A1\n    if (env.NOTIFICATION_WEBHOOK) {\n      await fetch(env.NOTIFICATION_WEBHOOK, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          type: 'contact_form',\n          data: data,\n          timestamp: new Date().toISOString()\n        })\n      });\n    }\n    \n  } catch (error) {\n    console.error('\u901A\u77E5\u53D1\u9001\u5931\u8D25:', error);\n    // \u4E0D\u629B\u51FA\u9519\u8BEF\uFF0C\u786E\u4FDD\u4E3B\u6D41\u7A0B\u7EE7\u7EED\n  }\n}\n\n// Handle image upload requests - \u4F18\u5316\u7248\u672C\nasync function handleImageUpload(request, env) {\n  const startTime = performance.now();\n  console.log('\uD83D\uDE80 \u5F00\u59CB\u5904\u7406\u56FE\u7247\u4E0A\u4F20\u8BF7\u6C42');\n  \n  try {\n    // \u68C0\u67E5\u8BF7\u6C42\u65B9\u6CD5\n    if (request.method !== 'POST') {\n      console.log('\u274C \u4E0D\u652F\u6301\u7684\u8BF7\u6C42\u65B9\u6CD5:', request.method);\n      return createErrorResponse(405, '\u4EC5\u652F\u6301POST\u8BF7\u6C42');\n    }\n    \n    // \u8BE6\u7EC6\u8BB0\u5F55\u8BF7\u6C42\u4FE1\u606F\n    const requestInfo = {\n      contentType: request.headers.get('content-type'),\n      contentLength: request.headers.get('content-length'),\n      userAgent: request.headers.get('user-agent'),\n      origin: request.headers.get('origin')\n    };\n    console.log('\uD83D\uDCDD \u8BF7\u6C42\u4FE1\u606F:', requestInfo);\n    \n    // \u4F18\u5316FormData\u89E3\u6790\u9519\u8BEF\u5904\u7406\n    let formData;\n    try {\n      formData = await request.formData();\n      console.log('\u2705 FormData \u89E3\u6790\u6210\u529F');\n    } catch (formError) {\n      console.error('\u274C FormData \u89E3\u6790\u5931\u8D25:', {\n        error: formError.message,\n        stack: formError.stack,\n        contentType: requestInfo.contentType\n      });\n      \n      // \u63D0\u4F9B\u66F4\u8BE6\u7EC6\u7684\u9519\u8BEF\u4FE1\u606F\n      let errorMessage = '\u8BF7\u6C42\u683C\u5F0F\u9519\u8BEF';\n      if (formError.message.includes('boundary')) {\n        errorMessage = '\u6587\u4EF6\u4E0A\u4F20\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u9009\u62E9\u6587\u4EF6';\n      } else if (formError.message.includes('timeout')) {\n        errorMessage = '\u6587\u4EF6\u4E0A\u4F20\u8D85\u65F6\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8FDE\u63A5';\n      } else {\n        errorMessage = `\u8BF7\u6C42\u89E3\u6790\u5931\u8D25: ${formError.message}`;\n      }\n      \n      return createErrorResponse(400, errorMessage);\n    }\n    \n    // \u83B7\u53D6\u5E76\u9A8C\u8BC1\u6587\u4EF6\n    const file = formData.get('file');\n    const folder = formData.get('folder') || 'products';\n    \n    console.log('\uD83D\uDCC1 \u6587\u4EF6\u4FE1\u606F:', {\n      hasFile: !!file,\n      fileName: file?.name,\n      fileSize: file?.size,\n      fileType: file?.type,\n      folder: folder\n    });\n    \n    // \u4E25\u683C\u9A8C\u8BC1\u6587\u4EF6\u5B58\u5728\u6027\n    if (!file || !(file instanceof File)) {\n      console.error('\u274C \u672A\u627E\u5230\u6709\u6548\u6587\u4EF6:', typeof file);\n      return createErrorResponse(400, '\u8BF7\u9009\u62E9\u8981\u4E0A\u4F20\u7684\u6587\u4EF6');\n    }\n    \n    // \u6587\u4EF6\u5927\u5C0F\u68C0\u67E5\uFF085MB = 5,242,880 bytes\uFF09\n    const maxSize = 5 * 1024 * 1024;\n    if (file.size > maxSize) {\n      console.error('\u274C \u6587\u4EF6\u8FC7\u5927:', { size: file.size, maxSize });\n      return createErrorResponse(400, `\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC75MB\uFF08\u5F53\u524D: ${Math.round(file.size / 1024 / 1024 * 100) / 100}MB\uFF09`);\n    }\n    \n    // \u66F4\u4E25\u683C\u7684\u6587\u4EF6\u7C7B\u578B\u68C0\u67E5\n    const supportedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'];\n    if (!file.type || !supportedTypes.includes(file.type.toLowerCase())) {\n      console.error('\u274C \u4E0D\u652F\u6301\u7684\u6587\u4EF6\u7C7B\u578B:', file.type);\n      return createErrorResponse(400, `\u4E0D\u652F\u6301\u7684\u56FE\u7247\u683C\u5F0F: ${file.type}\u3002\u652F\u6301: JPEG, PNG, WebP, GIF`);\n    }\n    \n    // \u751F\u6210\u5B89\u5168\u7684\u6587\u4EF6\u540D\n    const timestamp = Date.now();\n    const randomStr = crypto.getRandomValues(new Uint8Array(4))\n      .reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\n    const fileExt = file.name.split('.').pop()?.toLowerCase() || 'jpg';\n    const safeFileName = `${folder}/${timestamp}_${randomStr}.${fileExt}`;\n    \n    console.log('\uD83D\uDE80 \u5F00\u59CB\u5904\u7406\u6587\u4EF6:', safeFileName);\n    \n    // \u4F18\u5316\u7684\u4E0A\u4F20\u5904\u7406\u903B\u8F91\n    try {\n      // \u5982\u679C\u914D\u7F6E\u4E86R2\u5B58\u50A8\u6876\uFF0C\u4F7F\u7528R2\n      if (env.IMAGE_BUCKET) {\n        console.log('\u2601\uFE0F \u4F7F\u7528Cloudflare R2\u5B58\u50A8');\n        \n        // \u76F4\u63A5\u4E0A\u4F20\u5230R2\uFF0C\u51CF\u5C11\u5185\u5B58\u4F7F\u7528\n        const putResult = await env.IMAGE_BUCKET.put(safeFileName, file.stream(), {\n          httpMetadata: {\n            contentType: file.type,\n            cacheControl: 'public, max-age=31536000',\n            contentDisposition: `inline; filename=\"${file.name}\"`,\n          },\n          customMetadata: {\n            originalName: file.name,\n            uploadTime: new Date().toISOString(),\n            folder: folder,\n            fileSize: file.size.toString(),\n          },\n        });\n        \n        if (!putResult) {\n          throw new Error('R2\u4E0A\u4F20\u5931\u8D25\uFF0C\u672A\u8FD4\u56DE\u7ED3\u679C');\n        }\n        \n        const imageUrl = `https://pub-b9f0c2c358074609bf8701513c879957.r2.dev/${safeFileName}`;\n        const elapsedTime = performance.now() - startTime;\n        \n        console.log('\u2705 R2\u4E0A\u4F20\u6210\u529F:', { url: imageUrl, time: `${elapsedTime.toFixed(2)}ms` });\n        \n        return new Response(JSON.stringify({\n          code: 200,\n          message: '\u56FE\u7247\u4E0A\u4F20\u6210\u529F',\n          data: {\n            original: imageUrl,\n            large: imageUrl,\n            medium: imageUrl,\n            small: imageUrl,\n            thumbnail: imageUrl,\n            fileName: safeFileName,\n            fileSize: file.size,\n            fileType: file.type,\n            uploadMethod: 'cloudflare_r2',\n            uploadTime: elapsedTime,\n            fullUrls: {\n              original: imageUrl,\n              large: imageUrl,\n              medium: imageUrl,\n              small: imageUrl,\n              thumbnail: imageUrl\n            }\n          }\n        }), {\n          status: 200,\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            'Cache-Control': 'no-cache'\n          }\n        });\n        \n      } else {\n        // \u4F18\u5316\u7684base64\u5904\u7406\uFF08\u4E34\u65F6\u65B9\u6848\uFF09\n        console.log('\u26A0\uFE0F \u4F7F\u7528base64\u4E34\u65F6\u5B58\u50A8');\n        \n        // \u9650\u5236base64\u5904\u7406\u7684\u6587\u4EF6\u5927\u5C0F\uFF082MB\uFF09\n        if (file.size > 2 * 1024 * 1024) {\n          return createErrorResponse(413, '\u4E34\u65F6\u5B58\u50A8\u6A21\u5F0F\u4E0B\uFF0C\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC72MB');\n        }\n        \n        const arrayBuffer = await file.arrayBuffer();\n        console.log('\uD83D\uDCE6 \u83B7\u53D6ArrayBuffer:', arrayBuffer.byteLength);\n        \n        // \u4F7F\u7528\u66F4\u9AD8\u6548\u7684base64\u8F6C\u6362\n        const bytes = new Uint8Array(arrayBuffer);\n        let binary = '';\n        const chunkSize = 0x8000; // 32KB chunks\n        \n        for (let i = 0; i < bytes.length; i += chunkSize) {\n          const chunk = bytes.subarray(i, i + chunkSize);\n          binary += String.fromCharCode.apply(null, chunk);\n        }\n        \n        const base64 = btoa(binary);\n        const dataUrl = `data:${file.type};base64,${base64}`;\n        const elapsedTime = performance.now() - startTime;\n        \n        console.log('\u2705 base64\u751F\u6210\u6210\u529F:', {\n          dataUrlLength: dataUrl.length,\n          time: `${elapsedTime.toFixed(2)}ms`\n        });\n        \n        return new Response(JSON.stringify({\n          code: 200,\n          message: '\u56FE\u7247\u4E0A\u4F20\u6210\u529F\uFF08\u4E34\u65F6\u5B58\u50A8\uFF09',\n          data: {\n            original: dataUrl,\n            large: dataUrl,\n            medium: dataUrl,\n            small: dataUrl,\n            thumbnail: dataUrl,\n            fileName: safeFileName,\n            fileSize: file.size,\n            fileType: file.type,\n            uploadMethod: 'base64_storage',\n            uploadTime: elapsedTime,\n            fullUrls: {\n              original: dataUrl,\n              large: dataUrl,\n              medium: dataUrl,\n              small: dataUrl,\n              thumbnail: dataUrl\n            }\n          }\n        }), {\n          status: 200,\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            'Cache-Control': 'no-cache'\n          }\n        });\n      }\n      \n    } catch (uploadError) {\n      const elapsedTime = performance.now() - startTime;\n      console.error('\uD83D\uDEA8 \u56FE\u7247\u5904\u7406\u9519\u8BEF:', {\n        error: uploadError.message,\n        stack: uploadError.stack,\n        fileName: safeFileName,\n        fileSize: file.size,\n        time: `${elapsedTime.toFixed(2)}ms`\n      });\n      \n      return createErrorResponse(500, `\u4E0A\u4F20\u5931\u8D25: ${uploadError.message}`);\n    }\n    \n  } catch (error) {\n    const elapsedTime = performance.now() - startTime;\n    console.error('\uD83D\uDEA8 \u56FE\u7247\u4E0A\u4F20\u9519\u8BEF:', {\n      error: error.message,\n      stack: error.stack,\n      time: `${elapsedTime.toFixed(2)}ms`\n    });\n    \n    return createErrorResponse(500, `\u56FE\u7247\u4E0A\u4F20\u5931\u8D25: ${error.message}`);\n  }\n}\n\n// \u521B\u5EFA\u6807\u51C6\u5316\u9519\u8BEF\u54CD\u5E94\u7684\u8F85\u52A9\u51FD\u6570\nfunction createErrorResponse(status, message) {\n  return new Response(JSON.stringify({\n    code: status,\n    message: message,\n    timestamp: new Date().toISOString()\n  }), {\n    status: status,\n    headers: { \n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  });\n}\n\n// \u521B\u5EFA\u8BA4\u8BC1\u9519\u8BEF\u54CD\u5E94\nfunction createAuthError() {\n  return new Response(JSON.stringify({\n    error: { message: '\u9700\u8981\u767B\u5F55' },\n    code: 401\n  }), {\n    status: 401,\n    headers: { \n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Origin': '*'\n    }\n  });\n}\n\n// Handle admin login API\nasync function handleAdminLogin(request, env) {\n  let body;\n  try {\n    body = await request.json();\n  } catch (parseError) {\n    return createErrorResponse(400, '\u8BF7\u6C42\u683C\u5F0F\u9519\u8BEF');\n  }\n\n  const { email, password } = body || {};\n  if (!email || !password) {\n    return createErrorResponse(400, '\u8BF7\u586B\u5199\u90AE\u7BB1\u548C\u5BC6\u7801');\n  }\n\n  if (!env.DB) {\n    return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E\uFF0C\u8BF7\u8054\u7CFB\u6280\u672F\u652F\u6301');\n  }\n\n  try {\n    const result = await env.DB.prepare(`\n      SELECT * FROM admins WHERE email = ?\n    `).bind(email.toLowerCase()).first();\n\n    if (result && result.password_hash === password) {\n      await env.DB.prepare(`\n        UPDATE admins SET last_login = CURRENT_TIMESTAMP WHERE id = ?\n      `).bind(result.id).run();\n\n      return new Response(JSON.stringify({\n        user: {\n          id: result.id,\n          email: result.email,\n          name: result.name,\n          role: result.role\n        },\n        authType: 'D1_DATABASE'\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n  } catch (dbError) {\n    console.error('D1\u8BA4\u8BC1\u5931\u8D25:', dbError);\n    return createErrorResponse(500, `\u6570\u636E\u5E93\u8BA4\u8BC1\u5931\u8D25: ${dbError.message}`);\n  }\n\n  return createErrorResponse(401, '\u90AE\u7BB1\u6216\u5BC6\u7801\u9519\u8BEF');\n}\n\n// Handle get contacts API\nasync function handleGetContacts(request, env) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\uFF08\u751F\u4EA7\u73AF\u5883\u9700\u8981\u66F4\u4E25\u683C\u7684JWT\u7B49\uFF09\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return new Response(JSON.stringify({\n        error: { message: '\u9700\u8981\u767B\u5F55' }\n      }), {\n        status: 401,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n    \n    const url = new URL(request.url);\n    const page = parseInt(url.searchParams.get('page') || '1');\n    const limit = parseInt(url.searchParams.get('limit') || '20');\n    const offset = (page - 1) * limit;\n    \n    // \u7EAFD1\u6570\u636E\u5E93\u67E5\u8BE2\n    if (!env.DB) {\n      return new Response(JSON.stringify({\n        error: { message: 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E' }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    try {\n      // \u83B7\u53D6\u8054\u7CFB\u6570\u636E\n      const contacts = await env.DB.prepare(`\n        SELECT id, name, email, phone, company, message, created_at, status, is_read\n        FROM contacts \n        ORDER BY created_at DESC \n        LIMIT ? OFFSET ?\n      `).bind(limit, offset).all();\n      \n      // \u83B7\u53D6\u603B\u6570\n      const countResult = await env.DB.prepare(`\n        SELECT COUNT(*) as total FROM contacts\n      `).first();\n      \n      return new Response(JSON.stringify({\n        data: contacts.results || [],\n        pagination: {\n          page,\n          limit,\n          total: countResult?.total || 0,\n          totalPages: Math.ceil((countResult?.total || 0) / limit)\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    } catch (dbError) {\n      console.error('D1\u67E5\u8BE2\u5931\u8D25:', dbError);\n      return new Response(JSON.stringify({\n        error: { message: `\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ${dbError.message}` }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n    \n  } catch (error) {\n    console.error('\u83B7\u53D6\u8054\u7CFB\u6570\u636E\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      error: { message: '\u83B7\u53D6\u6570\u636E\u5931\u8D25' }\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle get products API - \u4F18\u5316\u6027\u80FD\u7248\u672C\nasync function handleGetProducts(request, env) {\n  const startTime = performance.now();\n  \n  try {\n    // \u5FEB\u901F\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return createAuthError();\n    }\n    \n    const url = new URL(request.url);\n    const page = Math.max(1, parseInt(url.searchParams.get('page') || '1'));\n    const limit = Math.min(50, Math.max(1, parseInt(url.searchParams.get('limit') || '20')));\n    const offset = (page - 1) * limit;\n    \n    // \u5FEB\u901F\u6570\u636E\u5E93\u68C0\u67E5\n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u4F7F\u7528\u5355\u4E00\u67E5\u8BE2\u540C\u65F6\u83B7\u53D6\u6570\u636E\u548C\u8BA1\u6570\uFF0C\u4F18\u5316\u6027\u80FD\n      const [productsResult, countResult] = await Promise.all([\n        env.DB.prepare(`\n          SELECT id, product_code, name_zh, name_en, name_ru,\n                 description_zh, description_en, description_ru,\n                 price, price_range, image_url, category, \n                 is_active, sort_order, created_at, updated_at,\n                 features_zh, features_en, features_ru\n          FROM products \n          ORDER BY sort_order ASC, created_at DESC \n          LIMIT ? OFFSET ?\n        `).bind(limit, offset).all(),\n        \n        env.DB.prepare(`SELECT COUNT(*) as total FROM products`).first()\n      ]);\n      \n      const elapsedTime = performance.now() - startTime;\n      \n      // \u6DFB\u52A0\u6027\u80FD\u76D1\u63A7\n      if (elapsedTime > 200) {\n        console.warn('\uD83D\uDC0C \u4EA7\u54C1\u67E5\u8BE2\u8F83\u6162:', `${elapsedTime.toFixed(2)}ms`);\n      }\n      \n      return new Response(JSON.stringify({\n        data: productsResult.results || [],\n        pagination: {\n          page,\n          limit,\n          total: countResult?.total || 0,\n          totalPages: Math.ceil((countResult?.total || 0) / limit)\n        },\n        meta: {\n          queryTime: elapsedTime.toFixed(2),\n          timestamp: new Date().toISOString()\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'private, max-age=60' // 1\u5206\u949F\u7F13\u5B58\n        }\n      });\n      \n    } catch (dbError) {\n      const elapsedTime = performance.now() - startTime;\n      console.error('D1\u67E5\u8BE2\u5931\u8D25:', {\n        error: dbError.message,\n        time: `${elapsedTime.toFixed(2)}ms`,\n        page,\n        limit\n      });\n      \n      return createErrorResponse(500, `\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ${dbError.message}`);\n    }\n    \n  } catch (error) {\n    const elapsedTime = performance.now() - startTime;\n    console.error('\u83B7\u53D6\u4EA7\u54C1\u6570\u636E\u9519\u8BEF:', {\n      error: error.message,\n      time: `${elapsedTime.toFixed(2)}ms`\n    });\n    \n    return createErrorResponse(500, '\u83B7\u53D6\u6570\u636E\u5931\u8D25');\n  }\n}\n\n// Handle other API proxy requests\nasync function handleAPIProxy(request, env) {\n  try {\n    const url = new URL(request.url);\n    const apiPath = url.pathname.replace('/api/', '');\n    \n    console.log('\uD83D\uDEA8 API\u8DEF\u7531\u672A\u627E\u5230:', {\n      pathname: url.pathname,\n      apiPath: apiPath,\n      method: request.method\n    });\n    \n    return new Response(JSON.stringify({\n      code: 404,\n      message: 'API\u8DEF\u7531\u672A\u627E\u5230',\n      debug: {\n        pathname: url.pathname,\n        apiPath: apiPath,\n        method: request.method\n      }\n    }), {\n      status: 404,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n    \n  } catch (error) {\n    console.error('\uD83D\uDEA8 API\u4EE3\u7406\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      code: 500,\n      message: '\u4EE3\u7406\u9519\u8BEF',\n      error: error.message\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle create product API - \u4F18\u5316\u6027\u80FD\u7248\u672C\nasync function handleCreateProduct(request, env) {\n  const startTime = performance.now();\n  \n  try {\n    // \u5FEB\u901F\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return createAuthError();\n    }\n\n    let body;\n    try {\n      body = await request.json();\n    } catch (parseError) {\n      return createErrorResponse(400, '\u8BF7\u6C42\u6570\u636E\u683C\u5F0F\u9519\u8BEF');\n    }\n\n    const {\n      product_code, name_zh, name_en, name_ru,\n      description_zh, description_en, description_ru,\n      specifications_zh, specifications_en, specifications_ru,\n      applications_zh, applications_en, applications_ru,\n      packaging_options_zh, packaging_options_en, packaging_options_ru,\n      category, price, price_range,\n      features_zh, features_en, features_ru,\n      image_url, is_active = true, sort_order = 0\n    } = body;\n\n    console.log('\uD83D\uDCDD \u63A5\u6536\u7684\u4EA7\u54C1\u6570\u636E:', {\n      product_code, name_zh, name_en, name_ru, category,\n      hasDescriptionZh: !!description_zh,\n      hasDescriptionEn: !!description_en,\n      hasFeaturesZh: !!features_zh,\n      is_active, sort_order\n    });\n\n    // \u5FEB\u901F\u9A8C\u8BC1\u5FC5\u586B\u5B57\u6BB5\n    if (!product_code?.trim() || !name_zh?.trim() || !name_en?.trim()) {\n      return createErrorResponse(400, '\u8BF7\u586B\u5199\u4EA7\u54C1\u4EE3\u7801\u3001\u4E2D\u82F1\u6587\u540D\u79F0');\n    }\n\n    // \u5982\u679C\u6CA1\u6709\u63D0\u4F9B category\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u503C\n    const finalCategory = category?.trim() || 'adhesive';\n\n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u4F18\u5316\u7684\u5904\u7406features\u51FD\u6570\n      const processFeatures = (features) => {\n        if (!features) return '[]';\n        if (typeof features === 'string') {\n          try {\n            // \u9A8C\u8BC1\u662F\u5426\u4E3A\u6709\u6548JSON\n            JSON.parse(features);\n            return features;\n          } catch {\n            return JSON.stringify([features]);\n          }\n        }\n        if (Array.isArray(features)) return JSON.stringify(features);\n        return '[]';\n      };\n\n      // \u5E76\u884C\u6267\u884C\u68C0\u67E5\u548C\u6570\u636E\u5904\u7406\n      const [existingProduct] = await Promise.all([\n        env.DB.prepare(`SELECT id FROM products WHERE product_code = ?`).bind(product_code).first()\n      ]);\n\n      if (existingProduct) {\n        return createErrorResponse(400, '\u4EA7\u54C1\u4EE3\u7801\u5DF2\u5B58\u5728');\n      }\n\n      const productData = {\n        product_code: product_code.trim(),\n        name_zh: name_zh.trim(),\n        name_en: name_en.trim(),\n        name_ru: name_ru?.trim() || '',\n        description_zh: description_zh?.trim() || '',\n        description_en: description_en?.trim() || '',\n        description_ru: description_ru?.trim() || '',\n        specifications_zh: specifications_zh?.trim() || '',\n        specifications_en: specifications_en?.trim() || '',\n        specifications_ru: specifications_ru?.trim() || '',\n        applications_zh: applications_zh?.trim() || '',\n        applications_en: applications_en?.trim() || '',\n        applications_ru: applications_ru?.trim() || '',\n        packaging_options_zh: packaging_options_zh?.trim() || '',\n        packaging_options_en: packaging_options_en?.trim() || '',\n        packaging_options_ru: packaging_options_ru?.trim() || '',\n        category: finalCategory,\n        price: typeof price === 'number' ? price : 0,\n        price_range: price_range?.trim() || '',\n        features_zh: processFeatures(features_zh),\n        features_en: processFeatures(features_en),\n        features_ru: processFeatures(features_ru),\n        image_url: image_url?.trim() || '',\n        gallery_images: body.gallery_images?.trim() || '',\n        tags: body.tags?.trim() || '',\n        is_active: Boolean(is_active) ? 1 : 0,  // \u786E\u4FDD\u5E03\u5C14\u503C\u8F6C\u4E3A\u6574\u6570\n        is_featured: Boolean(body.is_featured) ? 1 : 0,\n        sort_order: typeof sort_order === 'number' ? sort_order : 0,\n        stock_quantity: typeof body.stock_quantity === 'number' ? body.stock_quantity : 0,\n        min_order_quantity: typeof body.min_order_quantity === 'number' ? body.min_order_quantity : 1,\n        meta_title_zh: body.meta_title_zh?.trim() || '',\n        meta_title_en: body.meta_title_en?.trim() || '',\n        meta_title_ru: body.meta_title_ru?.trim() || '',\n        meta_description_zh: body.meta_description_zh?.trim() || '',\n        meta_description_en: body.meta_description_en?.trim() || '',\n        meta_description_ru: body.meta_description_ru?.trim() || ''\n      };\n\n      console.log('\uD83D\uDCDD \u521B\u5EFA\u4EA7\u54C1:', {\n        product_code: productData.product_code,\n        name_zh: productData.name_zh,\n        category: productData.category,\n        hasImage: !!productData.image_url\n      });\n\n      // \u5355\u4E2A\u4E8B\u52A1\u4E2D\u6267\u884C\u63D2\u5165\n      const result = await env.DB.prepare(`\n        INSERT INTO products (\n          product_code, name_zh, name_en, name_ru,\n          description_zh, description_en, description_ru,\n          specifications_zh, specifications_en, specifications_ru,\n          applications_zh, applications_en, applications_ru,\n          packaging_options_zh, packaging_options_en, packaging_options_ru,\n          category, price, price_range,\n          features_zh, features_en, features_ru,\n          image_url, gallery_images, tags,\n          is_active, is_featured, sort_order,\n          stock_quantity, min_order_quantity,\n          meta_title_zh, meta_title_en, meta_title_ru,\n          meta_description_zh, meta_description_en, meta_description_ru\n        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n      `).bind(\n        productData.product_code, productData.name_zh, productData.name_en, productData.name_ru,\n        productData.description_zh, productData.description_en, productData.description_ru,\n        productData.specifications_zh, productData.specifications_en, productData.specifications_ru,\n        productData.applications_zh, productData.applications_en, productData.applications_ru,\n        productData.packaging_options_zh, productData.packaging_options_en, productData.packaging_options_ru,\n        productData.category, productData.price, productData.price_range,\n        productData.features_zh, productData.features_en, productData.features_ru,\n        productData.image_url, productData.gallery_images, productData.tags,\n        productData.is_active, productData.is_featured, productData.sort_order,\n        productData.stock_quantity, productData.min_order_quantity,\n        productData.meta_title_zh, productData.meta_title_en, productData.meta_title_ru,\n        productData.meta_description_zh, productData.meta_description_en, productData.meta_description_ru\n      ).run();\n\n      if (!result.meta?.last_row_id) {\n        throw new Error('\u4EA7\u54C1\u521B\u5EFA\u5931\u8D25\uFF1A\u672A\u83B7\u5F97\u65B0\u4EA7\u54C1ID');\n      }\n\n      // \u7ACB\u5373\u67E5\u8BE2\u521B\u5EFA\u7684\u4EA7\u54C1\n      const newProduct = await env.DB.prepare(`\n        SELECT * FROM products WHERE id = ?\n      `).bind(result.meta.last_row_id).first();\n\n      const elapsedTime = performance.now() - startTime;\n      \n      console.log('\u2705 \u4EA7\u54C1\u521B\u5EFA\u6210\u529F:', {\n        id: result.meta.last_row_id,\n        product_code: productData.product_code,\n        time: `${elapsedTime.toFixed(2)}ms`\n      });\n\n      return new Response(JSON.stringify({\n        data: newProduct,\n        message: '\u4EA7\u54C1\u521B\u5EFA\u6210\u529F',\n        meta: {\n          createTime: elapsedTime.toFixed(2),\n          timestamp: new Date().toISOString()\n        }\n      }), {\n        status: 201,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n    } catch (dbError) {\n      const elapsedTime = performance.now() - startTime;\n      console.error('\u521B\u5EFA\u4EA7\u54C1\u5931\u8D25:', {\n        error: dbError.message,\n        product_code,\n        time: `${elapsedTime.toFixed(2)}ms`\n      });\n      \n      return createErrorResponse(500, `\u6570\u636E\u5E93\u64CD\u4F5C\u5931\u8D25: ${dbError.message}`);\n    }\n\n  } catch (error) {\n    const elapsedTime = performance.now() - startTime;\n    console.error('\u521B\u5EFA\u4EA7\u54C1API\u9519\u8BEF:', {\n      error: error.message,\n      time: `${elapsedTime.toFixed(2)}ms`\n    });\n    \n    return createErrorResponse(500, '\u521B\u5EFA\u4EA7\u54C1\u5931\u8D25');\n  }\n}\n\n// Handle update product API\nasync function handleUpdateProduct(request, env) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return new Response(JSON.stringify({\n        error: { message: '\u9700\u8981\u767B\u5F55' }\n      }), {\n        status: 401,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    const url = new URL(request.url);\n    const productId = url.pathname.split('/').pop();\n    \n    if (!productId || isNaN(parseInt(productId))) {\n      return new Response(JSON.stringify({\n        error: { message: '\u65E0\u6548\u7684\u4EA7\u54C1ID' }\n      }), {\n        status: 400,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    const body = await request.json();\n    const updateFields = [];\n    const bindValues = [];\n\n    // \u5904\u7406features\u6570\u7EC4\uFF0C\u786E\u4FDD\u662FJSON\u5B57\u7B26\u4E32\u683C\u5F0F\n    const processFeatures = (features) => {\n      if (!features) return '[]';\n      if (typeof features === 'string') return features;\n      if (Array.isArray(features)) return JSON.stringify(features);\n      return '[]';\n    };\n\n    // \u52A8\u6001\u6784\u5EFA\u66F4\u65B0\u5B57\u6BB5\n    const allowedFields = [\n      'product_code', 'name_zh', 'name_en', 'name_ru',\n      'description_zh', 'description_en', 'description_ru',\n      'specifications_zh', 'specifications_en', 'specifications_ru',\n      'applications_zh', 'applications_en', 'applications_ru',\n      'packaging_options_zh', 'packaging_options_en', 'packaging_options_ru',\n      'category', 'price', 'price_range',\n      'features_zh', 'features_en', 'features_ru',\n      'image_url', 'is_active', 'sort_order'\n    ];\n\n    allowedFields.forEach(field => {\n      if (body[field] !== undefined) {\n        updateFields.push(`${field} = ?`);\n        // \u7279\u6B8A\u5904\u7406features\u5B57\u6BB5\n        if (field.startsWith('features_')) {\n          bindValues.push(processFeatures(body[field]));\n        } else {\n          bindValues.push(body[field]);\n        }\n      }\n    });\n\n    if (updateFields.length === 0) {\n      return new Response(JSON.stringify({\n        error: { message: '\u6CA1\u6709\u9700\u8981\u66F4\u65B0\u7684\u5B57\u6BB5' }\n      }), {\n        status: 400,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    if (!env.DB) {\n      return new Response(JSON.stringify({\n        error: { message: 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E' }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    try {\n      // \u6DFB\u52A0\u66F4\u65B0\u65F6\u95F4\n      updateFields.push('updated_at = CURRENT_TIMESTAMP');\n      bindValues.push(parseInt(productId));\n\n      // \u66F4\u65B0\u4EA7\u54C1\n      await env.DB.prepare(`\n        UPDATE products SET ${updateFields.join(', ')} WHERE id = ?\n      `).bind(...bindValues).run();\n\n      // \u67E5\u8BE2\u66F4\u65B0\u540E\u7684\u4EA7\u54C1\n      const updatedProduct = await env.DB.prepare(`\n        SELECT * FROM products WHERE id = ?\n      `).bind(parseInt(productId)).first();\n\n      if (!updatedProduct) {\n        return new Response(JSON.stringify({\n          error: { message: '\u4EA7\u54C1\u4E0D\u5B58\u5728' }\n        }), {\n          status: 404,\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        });\n      }\n\n      return new Response(JSON.stringify({\n        data: updatedProduct,\n        message: '\u4EA7\u54C1\u66F4\u65B0\u6210\u529F'\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n\n    } catch (dbError) {\n      console.error('\u66F4\u65B0\u4EA7\u54C1\u5931\u8D25:', dbError);\n      return new Response(JSON.stringify({\n        error: { message: `\u6570\u636E\u5E93\u64CD\u4F5C\u5931\u8D25: ${dbError.message}` }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n  } catch (error) {\n    console.error('\u66F4\u65B0\u4EA7\u54C1API\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      error: { message: '\u66F4\u65B0\u4EA7\u54C1\u5931\u8D25' }\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle delete product API\nasync function handleDeleteProduct(request, env) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return new Response(JSON.stringify({\n        error: { message: '\u9700\u8981\u767B\u5F55' }\n      }), {\n        status: 401,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    const url = new URL(request.url);\n    const productId = url.pathname.split('/').pop();\n    \n    if (!productId || isNaN(parseInt(productId))) {\n      return new Response(JSON.stringify({\n        error: { message: '\u65E0\u6548\u7684\u4EA7\u54C1ID' }\n      }), {\n        status: 400,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    if (!env.DB) {\n      return new Response(JSON.stringify({\n        error: { message: 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E' }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    try {\n      // \u68C0\u67E5\u4EA7\u54C1\u662F\u5426\u5B58\u5728\n      const product = await env.DB.prepare(`\n        SELECT * FROM products WHERE id = ?\n      `).bind(parseInt(productId)).first();\n\n      if (!product) {\n        return new Response(JSON.stringify({\n          error: { message: '\u4EA7\u54C1\u4E0D\u5B58\u5728' }\n        }), {\n          status: 404,\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        });\n      }\n\n      // \u5220\u9664\u4EA7\u54C1\n      await env.DB.prepare(`\n        DELETE FROM products WHERE id = ?\n      `).bind(parseInt(productId)).run();\n\n      return new Response(JSON.stringify({\n        message: '\u4EA7\u54C1\u5220\u9664\u6210\u529F',\n        data: { id: parseInt(productId) }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n\n    } catch (dbError) {\n      console.error('\u5220\u9664\u4EA7\u54C1\u5931\u8D25:', dbError);\n      return new Response(JSON.stringify({\n        error: { message: `\u6570\u636E\u5E93\u64CD\u4F5C\u5931\u8D25: ${dbError.message}` }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n  } catch (error) {\n    console.error('\u5220\u9664\u4EA7\u54C1API\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      error: { message: '\u5220\u9664\u4EA7\u54C1\u5931\u8D25' }\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle get single product API\nasync function handleGetSingleProduct(request, env) {\n  try {\n    const url = new URL(request.url);\n    const productId = url.pathname.split('/').pop();\n    \n    if (!productId || isNaN(parseInt(productId))) {\n      return new Response(JSON.stringify({\n        error: { message: '\u65E0\u6548\u7684\u4EA7\u54C1ID' }\n      }), {\n        status: 400,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    if (!env.DB) {\n      return new Response(JSON.stringify({\n        error: { message: 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E' }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    try {\n      // \u67E5\u8BE2\u4EA7\u54C1\n      const product = await env.DB.prepare(`\n        SELECT * FROM products WHERE id = ?\n      `).bind(parseInt(productId)).first();\n\n      if (!product) {\n        return new Response(JSON.stringify({\n          error: { message: '\u4EA7\u54C1\u4E0D\u5B58\u5728' }\n        }), {\n          status: 404,\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        });\n      }\n\n      return new Response(JSON.stringify({\n        data: product\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n\n    } catch (dbError) {\n      console.error('\u67E5\u8BE2\u4EA7\u54C1\u5931\u8D25:', dbError);\n      return new Response(JSON.stringify({\n        error: { message: `\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ${dbError.message}` }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n  } catch (error) {\n    console.error('\u83B7\u53D6\u4EA7\u54C1API\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      error: { message: '\u83B7\u53D6\u4EA7\u54C1\u5931\u8D25' }\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle update contact API\nasync function handleUpdateContact(request, env) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return new Response(JSON.stringify({\n        error: { message: '\u9700\u8981\u767B\u5F55' }\n      }), {\n        status: 401,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    const url = new URL(request.url);\n    const contactId = url.pathname.split('/').pop();\n    \n    if (!contactId || isNaN(parseInt(contactId))) {\n      return new Response(JSON.stringify({\n        error: { message: '\u65E0\u6548\u7684\u8054\u7CFB\u6D88\u606FID' }\n      }), {\n        status: 400,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    const body = await request.json();\n    const updateFields = [];\n    const bindValues = [];\n\n    // \u52A8\u6001\u6784\u5EFA\u66F4\u65B0\u5B57\u6BB5\n    const allowedFields = ['status', 'is_read'];\n\n    allowedFields.forEach(field => {\n      if (body[field] !== undefined) {\n        updateFields.push(`${field} = ?`);\n        bindValues.push(body[field]);\n      }\n    });\n\n    if (updateFields.length === 0) {\n      return new Response(JSON.stringify({\n        error: { message: '\u6CA1\u6709\u9700\u8981\u66F4\u65B0\u7684\u5B57\u6BB5' }\n      }), {\n        status: 400,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    if (!env.DB) {\n      return new Response(JSON.stringify({\n        error: { message: 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E' }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    try {\n      // \u6DFB\u52A0\u66F4\u65B0\u65F6\u95F4\n      updateFields.push('updated_at = CURRENT_TIMESTAMP');\n      bindValues.push(parseInt(contactId));\n\n      // \u66F4\u65B0\u8054\u7CFB\u6D88\u606F\n      await env.DB.prepare(`\n        UPDATE contacts SET ${updateFields.join(', ')} WHERE id = ?\n      `).bind(...bindValues).run();\n\n      // \u67E5\u8BE2\u66F4\u65B0\u540E\u7684\u8054\u7CFB\u6D88\u606F\n      const updatedContact = await env.DB.prepare(`\n        SELECT * FROM contacts WHERE id = ?\n      `).bind(parseInt(contactId)).first();\n\n      if (!updatedContact) {\n        return new Response(JSON.stringify({\n          error: { message: '\u8054\u7CFB\u6D88\u606F\u4E0D\u5B58\u5728' }\n        }), {\n          status: 404,\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        });\n      }\n\n      return new Response(JSON.stringify({\n        data: updatedContact,\n        message: '\u8054\u7CFB\u6D88\u606F\u66F4\u65B0\u6210\u529F'\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n\n    } catch (dbError) {\n      console.error('\u66F4\u65B0\u8054\u7CFB\u6D88\u606F\u5931\u8D25:', dbError);\n      return new Response(JSON.stringify({\n        error: { message: `\u6570\u636E\u5E93\u64CD\u4F5C\u5931\u8D25: ${dbError.message}` }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n  } catch (error) {\n    console.error('\u66F4\u65B0\u8054\u7CFB\u6D88\u606FAPI\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      error: { message: '\u66F4\u65B0\u8054\u7CFB\u6D88\u606F\u5931\u8D25' }\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle delete contact API\nasync function handleDeleteContact(request, env) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return new Response(JSON.stringify({\n        error: { message: '\u9700\u8981\u767B\u5F55' }\n      }), {\n        status: 401,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    const url = new URL(request.url);\n    const contactId = url.pathname.split('/').pop();\n    \n    if (!contactId || isNaN(parseInt(contactId))) {\n      return new Response(JSON.stringify({\n        error: { message: '\u65E0\u6548\u7684\u8054\u7CFB\u6D88\u606FID' }\n      }), {\n        status: 400,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    if (!env.DB) {\n      return new Response(JSON.stringify({\n        error: { message: 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E' }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    try {\n      // \u68C0\u67E5\u8054\u7CFB\u6D88\u606F\u662F\u5426\u5B58\u5728\n      const contact = await env.DB.prepare(`\n        SELECT * FROM contacts WHERE id = ?\n      `).bind(parseInt(contactId)).first();\n\n      if (!contact) {\n        return new Response(JSON.stringify({\n          error: { message: '\u8054\u7CFB\u6D88\u606F\u4E0D\u5B58\u5728' }\n        }), {\n          status: 404,\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        });\n      }\n\n      // \u5220\u9664\u8054\u7CFB\u6D88\u606F\n      await env.DB.prepare(`\n        DELETE FROM contacts WHERE id = ?\n      `).bind(parseInt(contactId)).run();\n\n      return new Response(JSON.stringify({\n        message: '\u8054\u7CFB\u6D88\u606F\u5220\u9664\u6210\u529F',\n        data: { id: parseInt(contactId) }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n\n    } catch (dbError) {\n      console.error('\u5220\u9664\u8054\u7CFB\u6D88\u606F\u5931\u8D25:', dbError);\n      return new Response(JSON.stringify({\n        error: { message: `\u6570\u636E\u5E93\u64CD\u4F5C\u5931\u8D25: ${dbError.message}` }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n  } catch (error) {\n    console.error('\u5220\u9664\u8054\u7CFB\u6D88\u606FAPI\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      error: { message: '\u5220\u9664\u8054\u7CFB\u6D88\u606F\u5931\u8D25' }\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle get page contents API\nasync function handleGetContents(request, env) {\n  try {\n    const url = new URL(request.url);\n    const page = parseInt(url.searchParams.get('page')) || 1;\n    const limit = parseInt(url.searchParams.get('limit')) || 20;\n    const pageKey = url.searchParams.get('page_key');\n    const offset = (page - 1) * limit;\n\n    if (!env.DB) {\n      return new Response(JSON.stringify({\n        error: { message: 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E' }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    try {\n      let whereClause = '';\n      let bindParams = [limit, offset];\n      \n      if (pageKey) {\n        whereClause = 'WHERE page_key = ?';\n        bindParams = [pageKey, limit, offset];\n      }\n      \n      // \u83B7\u53D6\u5185\u5BB9\u6570\u636E\n      const contents = await env.DB.prepare(`\n        SELECT * FROM page_contents \n        ${whereClause}\n        ORDER BY page_key ASC, sort_order ASC, created_at DESC \n        LIMIT ? OFFSET ?\n      `).bind(...bindParams).all();\n      \n      // \u83B7\u53D6\u603B\u6570\n      const countQuery = pageKey \n        ? 'SELECT COUNT(*) as total FROM page_contents WHERE page_key = ?'\n        : 'SELECT COUNT(*) as total FROM page_contents';\n      const countParams = pageKey ? [pageKey] : [];\n      \n      const countResult = await env.DB.prepare(countQuery).bind(...countParams).first();\n      \n      return new Response(JSON.stringify({\n        data: contents.results || [],\n        pagination: {\n          page,\n          limit,\n          total: countResult?.total || 0,\n          totalPages: Math.ceil((countResult?.total || 0) / limit)\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n      \n    } catch (dbError) {\n      console.error('D1\u67E5\u8BE2\u5931\u8D25:', dbError);\n      return new Response(JSON.stringify({\n        error: { message: `\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ${dbError.message}` }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n    \n  } catch (error) {\n    console.error('\u83B7\u53D6\u5185\u5BB9\u6570\u636E\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      error: { message: '\u83B7\u53D6\u6570\u636E\u5931\u8D25' }\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle update page content API\nasync function handleUpdateContent(request, env) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return new Response(JSON.stringify({\n        error: { message: '\u9700\u8981\u767B\u5F55' }\n      }), {\n        status: 401,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    const url = new URL(request.url);\n    const contentId = url.pathname.split('/').pop();\n    \n    if (!contentId || isNaN(parseInt(contentId))) {\n      return new Response(JSON.stringify({\n        error: { message: '\u65E0\u6548\u7684\u5185\u5BB9ID' }\n      }), {\n        status: 400,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    const body = await request.json();\n    const updateFields = [];\n    const bindValues = [];\n\n    // \u52A8\u6001\u6784\u5EFA\u66F4\u65B0\u5B57\u6BB5\n    const allowedFields = [\n      'content_zh', 'content_en', 'content_ru',\n      'content_type', 'meta_data', 'category', 'tags',\n      'is_active', 'sort_order', \n      'meta_title_zh', 'meta_title_en', 'meta_title_ru',\n      'meta_description_zh', 'meta_description_en', 'meta_description_ru'\n    ];\n\n    allowedFields.forEach(field => {\n      if (body[field] !== undefined) {\n        updateFields.push(`${field} = ?`);\n        bindValues.push(body[field]);\n      }\n    });\n\n    if (updateFields.length === 0) {\n      return new Response(JSON.stringify({\n        error: { message: '\u6CA1\u6709\u9700\u8981\u66F4\u65B0\u7684\u5B57\u6BB5' }\n      }), {\n        status: 400,\n        headers: { \n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    if (!env.DB) {\n      return new Response(JSON.stringify({\n        error: { message: 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E' }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    try {\n      // \u6DFB\u52A0\u66F4\u65B0\u65F6\u95F4\n      updateFields.push('updated_at = CURRENT_TIMESTAMP');\n      bindValues.push(parseInt(contentId));\n\n      // \u66F4\u65B0\u5185\u5BB9\n      await env.DB.prepare(`\n        UPDATE page_contents SET ${updateFields.join(', ')} WHERE id = ?\n      `).bind(...bindValues).run();\n\n      // \u67E5\u8BE2\u66F4\u65B0\u540E\u7684\u5185\u5BB9\n      const updatedContent = await env.DB.prepare(`\n        SELECT * FROM page_contents WHERE id = ?\n      `).bind(parseInt(contentId)).first();\n\n      if (!updatedContent) {\n        return new Response(JSON.stringify({\n          error: { message: '\u5185\u5BB9\u4E0D\u5B58\u5728' }\n        }), {\n          status: 404,\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        });\n      }\n\n      return new Response(JSON.stringify({\n        data: updatedContent,\n        message: '\u5185\u5BB9\u66F4\u65B0\u6210\u529F'\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n\n    } catch (dbError) {\n      console.error('\u66F4\u65B0\u5185\u5BB9\u5931\u8D25:', dbError);\n      return new Response(JSON.stringify({\n        error: { message: `\u6570\u636E\u5E93\u64CD\u4F5C\u5931\u8D25: ${dbError.message}` }\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n  } catch (error) {\n    console.error('\u66F4\u65B0\u5185\u5BB9API\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      error: { message: '\u66F4\u65B0\u5185\u5BB9\u5931\u8D25' }\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle public products API (no authentication required)\nasync function handlePublicProducts(request, env) {\n  try {\n    // \u7EAFD1\u6570\u636E\u5E93\u67E5\u8BE2\n    if (!env.DB) {\n      return new Response(JSON.stringify({\n        success: false,\n        message: 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E'\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n\n    try {\n      const rawProducts = await env.DB.prepare(`\n        SELECT id, product_code, name_zh, name_en, name_ru,\n               description_zh, description_en, description_ru,\n               image_url, gallery_images,\n               category, price_range, status, is_active,\n               sort_order, created_at, updated_at,\n               features_zh, features_en, features_ru,\n               specifications_zh, specifications_en, specifications_ru\n        FROM products\n        WHERE is_active = 1 AND status = 'published'\n        ORDER BY sort_order ASC, created_at DESC\n      `).all();\n\n      const parseList = (value, fallback = []) => {\n        if (!value) return fallback;\n        if (Array.isArray(value)) return value;\n        if (typeof value === 'string') {\n          const trimmed = value.trim();\n          if (!trimmed) return fallback;\n          try {\n            const parsed = JSON.parse(trimmed);\n            if (Array.isArray(parsed)) {\n              return parsed;\n            }\n          } catch (_) {\n            return trimmed.split(/\\r?\\n/).map(item => item.trim()).filter(Boolean);\n          }\n        }\n        return fallback;\n      };\n\n      const products = (rawProducts.results || []).map((product) => ({\n        ...product,\n        gallery_images: parseList(product.gallery_images, product.image_url ? [product.image_url] : []),\n        features_zh: parseList(product.features_zh),\n        features_en: parseList(product.features_en),\n        features_ru: parseList(product.features_ru),\n        specifications_zh: parseList(product.specifications_zh),\n        specifications_en: parseList(product.specifications_en),\n        specifications_ru: parseList(product.specifications_ru),\n      }));\n\n      return new Response(JSON.stringify({\n        success: true,\n        data: products\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    } catch (dbError) {\n      console.error('D1\u67E5\u8BE2\u5931\u8D25:', dbError);\n      return new Response(JSON.stringify({\n        success: false,\n        message: `\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ${dbError.message}`\n      }), {\n        status: 500,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n    }\n    \n  } catch (error) {\n    console.error('\u83B7\u53D6\u516C\u5F00\u4EA7\u54C1\u6570\u636E\u9519\u8BEF:', error);\n    return new Response(JSON.stringify({\n      success: false,\n      message: '\u83B7\u53D6\u4EA7\u54C1\u6570\u636E\u5931\u8D25'\n    }), {\n      status: 500,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n// Handle dashboard statistics API\nasync function handleDashboardStats(request, env) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return createAuthError();\n    }\n    \n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u5E76\u884C\u83B7\u53D6\u6240\u6709\u7EDF\u8BA1\u6570\u636E\n      const [\n        totalProducts,\n        totalContacts,\n        unreadContacts,\n        activeProducts,\n        recentActivities\n      ] = await Promise.all([\n        // \u4EA7\u54C1\u603B\u6570\n        env.DB.prepare(`SELECT COUNT(*) as count FROM products`).first(),\n        // \u8054\u7CFB\u6D88\u606F\u603B\u6570\n        env.DB.prepare(`SELECT COUNT(*) as count FROM contacts`).first(),\n        // \u672A\u8BFB\u8054\u7CFB\u6D88\u606F\n        env.DB.prepare(`SELECT COUNT(*) as count FROM contacts WHERE is_read = 0`).first(),\n        // \u6D3B\u8DC3\u4EA7\u54C1\u6570\n        env.DB.prepare(`SELECT COUNT(*) as count FROM products WHERE is_active = 1`).first(),\n        // \u6700\u8FD17\u5929\u6D3B\u52A8\u6570\n        env.DB.prepare(`\n          SELECT COUNT(*) as count FROM contacts\n          WHERE created_at >= datetime('now', '-7 days')\n        `).first()\n      ]);\n\n      // \u83B7\u53D6\u6700\u8FD130\u5929\u7684\u6BCF\u65E5\u8054\u7CFB\u6D88\u606F\u7EDF\u8BA1\n      const dailyContacts = await env.DB.prepare(`\n        SELECT\n          date(created_at) as date,\n          COUNT(*) as count\n        FROM contacts\n        WHERE created_at >= datetime('now', '-30 days')\n        GROUP BY date(created_at)\n        ORDER BY date\n      `).all();\n\n      // \u83B7\u53D6\u4EA7\u54C1\u5206\u7C7B\u7EDF\u8BA1\n      const categoryStats = await env.DB.prepare(`\n        SELECT\n          category,\n          COUNT(*) as count\n        FROM products\n        WHERE is_active = 1\n        GROUP BY category\n        ORDER BY count DESC\n      `).all();\n\n      return new Response(JSON.stringify({\n        data: {\n          totalProducts: totalProducts?.count || 0,\n          totalContacts: totalContacts?.count || 0,\n          unreadContacts: unreadContacts?.count || 0,\n          activeProducts: activeProducts?.count || 0,\n          recentActivities: recentActivities?.count || 0,\n          dailyContacts: dailyContacts.results || [],\n          categoryStats: categoryStats.results || []\n        },\n        meta: {\n          timestamp: new Date().toISOString()\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n    } catch (dbError) {\n      console.error('\u4EEA\u8868\u677F\u7EDF\u8BA1\u67E5\u8BE2\u5931\u8D25:', dbError);\n      return createErrorResponse(500, `\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ${dbError.message}`);\n    }\n    \n  } catch (error) {\n    console.error('\u4EEA\u8868\u677F\u7EDF\u8BA1API\u9519\u8BEF:', error);\n    return createErrorResponse(500, '\u83B7\u53D6\u4EEA\u8868\u677F\u7EDF\u8BA1\u5931\u8D25');\n  }\n}\n\n// Handle dashboard activities API\nasync function handleDashboardActivities(request, env) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return createAuthError();\n    }\n    \n    const url = new URL(request.url);\n    const limit = Math.min(50, Math.max(1, parseInt(url.searchParams.get('limit') || '20')));\n    \n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u83B7\u53D6\u6700\u8FD1\u7684\u6D3B\u52A8\uFF08\u8054\u7CFB\u6D88\u606F\u548C\u4EA7\u54C1\u66F4\u65B0\uFF09\n      const recentContacts = await env.DB.prepare(`\n        SELECT\n          id, name, email, created_at, status, is_read,\n          'contact' as type\n        FROM contacts\n        ORDER BY created_at DESC\n        LIMIT ?\n      `).bind(limit).all();\n\n      // \u83B7\u53D6\u6700\u8FD1\u66F4\u65B0\u7684\u4EA7\u54C1\n      const recentProducts = await env.DB.prepare(`\n        SELECT\n          id, product_code, name_zh, updated_at,\n          'product' as type\n        FROM products\n        WHERE updated_at IS NOT NULL\n        ORDER BY updated_at DESC\n        LIMIT ?\n      `).bind(limit).all();\n\n      // \u5408\u5E76\u6D3B\u52A8\u5E76\u6309\u65F6\u95F4\u6392\u5E8F\n      const allActivities = [\n        ...(recentContacts.results || []).map(item => ({\n          ...item,\n          timestamp: item.created_at\n        })),\n        ...(recentProducts.results || []).map(item => ({\n          ...item,\n          timestamp: item.updated_at\n        }))\n      ].sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\n       .slice(0, limit);\n\n      return new Response(JSON.stringify({\n        data: allActivities,\n        pagination: {\n          limit,\n          total: allActivities.length\n        },\n        meta: {\n          timestamp: new Date().toISOString()\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n    } catch (dbError) {\n      console.error('\u4EEA\u8868\u677F\u6D3B\u52A8\u67E5\u8BE2\u5931\u8D25:', dbError);\n      return createErrorResponse(500, `\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ${dbError.message}`);\n    }\n    \n  } catch (error) {\n    console.error('\u4EEA\u8868\u677F\u6D3B\u52A8API\u9519\u8BEF:', error);\n    return createErrorResponse(500, '\u83B7\u53D6\u4EEA\u8868\u677F\u6D3B\u52A8\u5931\u8D25');\n  }\n}\n\n// Handle dashboard system health API\nasync function handleDashboardHealth(request, env) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return createAuthError();\n    }\n\n    try {\n      // \u7CFB\u7EDF\u5065\u5EB7\u68C0\u67E5\n      const healthData = {\n        database: {\n          status: env.DB ? 'connected' : 'not_configured',\n          timestamp: new Date().toISOString()\n        },\n        storage: {\n          status: env.IMAGE_BUCKET ? 'configured' : 'not_configured',\n          timestamp: new Date().toISOString()\n        },\n        system: {\n          uptime: process.uptime(),\n          memory: process.memoryUsage(),\n          timestamp: new Date().toISOString()\n        },\n        environment: {\n          node_env: process.env.NODE_ENV || 'production',\n          timestamp: new Date().toISOString()\n        }\n      };\n\n      return new Response(JSON.stringify({\n        data: healthData,\n        meta: {\n          timestamp: new Date().toISOString()\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n    } catch (error) {\n      console.error('\u7CFB\u7EDF\u5065\u5EB7\u68C0\u67E5\u5931\u8D25:', error);\n      return createErrorResponse(500, `\u7CFB\u7EDF\u5065\u5EB7\u68C0\u67E5\u5931\u8D25: ${error.message}`);\n    }\n    \n  } catch (error) {\n    console.error('\u4EEA\u8868\u677F\u5065\u5EB7API\u9519\u8BEF:', error);\n    return createErrorResponse(500, '\u83B7\u53D6\u7CFB\u7EDF\u5065\u5EB7\u4FE1\u606F\u5931\u8D25');\n  }\n}\n// Handle company info API\nasync function handleCompanyInfo(request, env) {\n  try {\n    const url = new URL(request.url);\n    const section = url.pathname.split('/').pop();\n    const language = url.searchParams.get('lang') || 'zh';\n    \n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      let query;\n      let bindParams;\n      \n      if (section === 'all') {\n        query = 'SELECT * FROM company_info WHERE is_active = 1 AND language = ?';\n        bindParams = [language];\n      } else {\n        query = 'SELECT * FROM company_info WHERE section_type = ? AND is_active = 1 AND language = ?';\n        bindParams = [section, language];\n      }\n      \n      const result = await env.DB.prepare(query).bind(...bindParams).all();\n      \n      return new Response(JSON.stringify({\n        success: true,\n        data: result.results || []\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'public, max-age=300'\n        }\n      });\n      \n    } catch (dbError) {\n      console.error('\u516C\u53F8\u4FE1\u606F\u67E5\u8BE2\u5931\u8D25:', dbError);\n      return createErrorResponse(500, '\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ' + dbError.message);\n    }\n    \n  } catch (error) {\n    console.error('\u516C\u53F8\u4FE1\u606FAPI\u9519\u8BEF:', error);\n    return createErrorResponse(500, '\u83B7\u53D6\u516C\u53F8\u4FE1\u606F\u5931\u8D25');\n  }\n}\n\n// Handle company content API\nasync function handleCompanyContent(request, env) {\n  try {\n    const url = new URL(request.url);\n    const type = url.pathname.split('/').pop();\n    const language = url.searchParams.get('lang') || 'zh';\n    \n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      let query;\n      let bindParams;\n      \n      if (type === 'all') {\n        query = 'SELECT * FROM company_content WHERE is_active = 1 AND language = ?';\n        bindParams = [language];\n      } else {\n        query = 'SELECT * FROM company_content WHERE content_type = ? AND is_active = 1 AND language = ?';\n        bindParams = [type, language];\n      }\n      \n      const result = await env.DB.prepare(query).bind(...bindParams).all();\n      \n      return new Response(JSON.stringify({\n        success: true,\n        data: result.results || []\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'public, max-age=300'\n        }\n      });\n      \n    } catch (dbError) {\n      console.error('\u516C\u53F8\u5185\u5BB9\u67E5\u8BE2\u5931\u8D25:', dbError);\n      return createErrorResponse(500, '\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ' + dbError.message);\n    }\n    \n  } catch (error) {\n    console.error('\u516C\u53F8\u5185\u5BB9API\u9519\u8BEF:', error);\n    return createErrorResponse(500, '\u83B7\u53D6\u516C\u53F8\u5185\u5BB9\u5931\u8D25');\n  }\n}\n\n// Handle get page content API (public, no auth required)\nasync function handleGetPageContent(request, env, pageType) {\n  try {\n    const url = new URL(request.url);\n    const language = url.searchParams.get('lang') || 'zh';\n    \n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u67E5\u8BE2\u6307\u5B9A\u9875\u9762\u7684\u5185\u5BB9\n      const contents = await env.DB.prepare(`\n        SELECT id, section_key, content_zh, content_en, content_ru,\n               content_type, meta_data, sort_order, created_at, updated_at\n        FROM page_contents \n        WHERE page_key = ? AND is_active = 1\n        ORDER BY sort_order ASC, created_at DESC\n      `).bind(pageType).all();\n      \n      // \u6839\u636E\u8BED\u8A00\u8FC7\u6EE4\u5185\u5BB9\n      const filteredContents = (contents.results || []).map(content => {\n        let displayContent;\n        switch (language) {\n          case 'en':\n            displayContent = content.content_en || content.content_zh;\n            break;\n          case 'ru':\n            displayContent = content.content_ru || content.content_zh;\n            break;\n          default:\n            displayContent = content.content_zh;\n        }\n        \n        return {\n          id: content.id,\n          section_key: content.section_key,\n          content: displayContent,\n          content_type: content.content_type,\n          meta_data: content.meta_data ? JSON.parse(content.meta_data) : {},\n          sort_order: content.sort_order,\n          created_at: content.created_at,\n          updated_at: content.updated_at\n        };\n      });\n      \n      return new Response(JSON.stringify({\n        success: true,\n        data: filteredContents,\n        meta: {\n          page: pageType,\n          language: language,\n          total: filteredContents.length\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'public, max-age=300'\n        }\n      });\n      \n    } catch (dbError) {\n      console.error(`${pageType}\u9875\u9762\u5185\u5BB9\u67E5\u8BE2\u5931\u8D25:`, dbError);\n      return createErrorResponse(500, '\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ' + dbError.message);\n    }\n    \n  } catch (error) {\n    console.error(`${pageType}\u9875\u9762\u5185\u5BB9API\u9519\u8BEF:`, error);\n    return createErrorResponse(500, `\u83B7\u53D6${pageType}\u9875\u9762\u5185\u5BB9\u5931\u8D25`);\n  }\n}\n\n// Handle get admin page content API (admin only)\nasync function handleGetAdminPageContent(request, env, pageType) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return createAuthError();\n    }\n    \n    const url = new URL(request.url);\n    const page = Math.max(1, parseInt(url.searchParams.get('page') || '1'));\n    const limit = Math.min(50, Math.max(1, parseInt(url.searchParams.get('limit') || '20')));\n    const offset = (page - 1) * limit;\n    \n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u5E76\u884C\u83B7\u53D6\u6570\u636E\u548C\u603B\u6570\n      const [contentsResult, countResult] = await Promise.all([\n        env.DB.prepare(`\n          SELECT id, section_key, content_zh, content_en, content_ru,\n                 content_type, meta_data, category, tags,\n                 is_active, sort_order, created_at, updated_at,\n                 meta_title_zh, meta_title_en, meta_title_ru,\n                 meta_description_zh, meta_description_en, meta_description_ru\n          FROM page_contents \n          WHERE page_key = ?\n          ORDER BY sort_order ASC, created_at DESC \n          LIMIT ? OFFSET ?\n        `).bind(pageType, limit, offset).all(),\n        \n        env.DB.prepare(`SELECT COUNT(*) as total FROM page_contents WHERE page_key = ?`).bind(pageType).first()\n      ]);\n      \n      return new Response(JSON.stringify({\n        success: true,\n        data: contentsResult.results || [],\n        pagination: {\n          page,\n          limit,\n          total: countResult?.total || 0,\n          totalPages: Math.ceil((countResult?.total || 0) / limit)\n        },\n        meta: {\n          page: pageType,\n          timestamp: new Date().toISOString()\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'private, max-age=60'\n        }\n      });\n      \n    } catch (dbError) {\n      console.error(`${pageType}\u9875\u9762\u7BA1\u7406\u5185\u5BB9\u67E5\u8BE2\u5931\u8D25:`, dbError);\n      return createErrorResponse(500, '\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ' + dbError.message);\n    }\n    \n  } catch (error) {\n    console.error(`${pageType}\u9875\u9762\u7BA1\u7406\u5185\u5BB9API\u9519\u8BEF:`, error);\n    return createErrorResponse(500, `\u83B7\u53D6${pageType}\u9875\u9762\u7BA1\u7406\u5185\u5BB9\u5931\u8D25`);\n  }\n}\n\n// Handle create page content API (admin only)\nasync function handleCreatePageContent(request, env, pageType) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return createAuthError();\n    }\n\n    let body;\n    try {\n      body = await request.json();\n    } catch (parseError) {\n      return createErrorResponse(400, '\u8BF7\u6C42\u6570\u636E\u683C\u5F0F\u9519\u8BEF');\n    }\n\n    const {\n      section_key,\n      content_zh, content_en, content_ru,\n      content_type = 'text',\n      meta_data = {},\n      category = '',\n      tags = '',\n      is_active = true,\n      sort_order = 0,\n      meta_title_zh = '', meta_title_en = '', meta_title_ru = '',\n      meta_description_zh = '', meta_description_en = '', meta_description_ru = ''\n    } = body;\n\n    // \u9A8C\u8BC1\u5FC5\u586B\u5B57\u6BB5\n    if (!section_key?.trim() || !content_zh?.trim()) {\n      return createErrorResponse(400, '\u8BF7\u586B\u5199\u533A\u57DF\u952E\u548C\u4E2D\u6587\u5185\u5BB9');\n    }\n\n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u68C0\u67E5\u662F\u5426\u5B58\u5728\u76F8\u540C\u7684section_key\n      const existing = await env.DB.prepare(`\n        SELECT id FROM page_contents WHERE page_key = ? AND section_key = ?\n      `).bind(pageType, section_key).first();\n\n      if (existing) {\n        return createErrorResponse(400, '\u76F8\u540C\u7684\u533A\u57DF\u952E\u5DF2\u5B58\u5728');\n      }\n\n      // \u521B\u5EFA\u5185\u5BB9\n      const result = await env.DB.prepare(`\n        INSERT INTO page_contents (\n          page_key, section_key,\n          content_zh, content_en, content_ru,\n          content_type, meta_data, category, tags,\n          is_active, sort_order,\n          meta_title_zh, meta_title_en, meta_title_ru,\n          meta_description_zh, meta_description_en, meta_description_ru\n        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n      `).bind(\n        pageType, section_key.trim(),\n        content_zh.trim(), content_en?.trim() || '', content_ru?.trim() || '',\n        content_type, JSON.stringify(meta_data), category.trim(), tags.trim(),\n        is_active ? 1 : 0, sort_order,\n        meta_title_zh.trim(), meta_title_en.trim(), meta_title_ru.trim(),\n        meta_description_zh.trim(), meta_description_en.trim(), meta_description_ru.trim()\n      ).run();\n\n      if (!result.meta?.last_row_id) {\n        throw new Error('\u5185\u5BB9\u521B\u5EFA\u5931\u8D25\uFF1A\u672A\u83B7\u5F97\u65B0\u5185\u5BB9ID');\n      }\n\n      // \u67E5\u8BE2\u521B\u5EFA\u7684\u5185\u5BB9\n      const newContent = await env.DB.prepare(`\n        SELECT * FROM page_contents WHERE id = ?\n      `).bind(result.meta.last_row_id).first();\n\n      console.log(`\u2705 ${pageType}\u9875\u9762\u5185\u5BB9\u521B\u5EFA\u6210\u529F:`, {\n        id: result.meta.last_row_id,\n        section_key: section_key\n      });\n\n      return new Response(JSON.stringify({\n        success: true,\n        data: newContent,\n        message: `${pageType}\u9875\u9762\u5185\u5BB9\u521B\u5EFA\u6210\u529F`,\n        meta: {\n          page: pageType,\n          timestamp: new Date().toISOString()\n        }\n      }), {\n        status: 201,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n    } catch (dbError) {\n      console.error(`\u521B\u5EFA${pageType}\u9875\u9762\u5185\u5BB9\u5931\u8D25:`, dbError);\n      return createErrorResponse(500, `\u6570\u636E\u5E93\u64CD\u4F5C\u5931\u8D25: ${dbError.message}`);\n    }\n\n  } catch (error) {\n    console.error(`\u521B\u5EFA${pageType}\u9875\u9762\u5185\u5BB9API\u9519\u8BEF:`, error);\n    return createErrorResponse(500, `\u521B\u5EFA${pageType}\u9875\u9762\u5185\u5BB9\u5931\u8D25`);\n  }\n}\n\n// Handle update page content API (admin only)\nasync function handleUpdatePageContent(request, env, pageType) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return createAuthError();\n    }\n\n    const url = new URL(request.url);\n    const contentId = url.pathname.split('/').pop();\n    \n    if (!contentId || isNaN(parseInt(contentId))) {\n      return createErrorResponse(400, '\u65E0\u6548\u7684\u5185\u5BB9ID');\n    }\n\n    const body = await request.json();\n    const updateFields = [];\n    const bindValues = [];\n\n    // \u52A8\u6001\u6784\u5EFA\u66F4\u65B0\u5B57\u6BB5\n    const allowedFields = [\n      'section_key', 'content_zh', 'content_en', 'content_ru',\n      'content_type', 'meta_data', 'category', 'tags',\n      'is_active', 'sort_order',\n      'meta_title_zh', 'meta_title_en', 'meta_title_ru',\n      'meta_description_zh', 'meta_description_en', 'meta_description_ru'\n    ];\n\n    allowedFields.forEach(field => {\n      if (body[field] !== undefined) {\n        updateFields.push(`${field} = ?`);\n        // \u7279\u6B8A\u5904\u7406meta_data\u5B57\u6BB5\n        if (field === 'meta_data') {\n          bindValues.push(JSON.stringify(body[field]));\n        } else {\n          bindValues.push(body[field]);\n        }\n      }\n    });\n\n    if (updateFields.length === 0) {\n      return createErrorResponse(400, '\u6CA1\u6709\u9700\u8981\u66F4\u65B0\u7684\u5B57\u6BB5');\n    }\n\n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u9A8C\u8BC1\u5185\u5BB9\u5C5E\u4E8E\u6307\u5B9A\u9875\u9762\n      const existingContent = await env.DB.prepare(`\n        SELECT * FROM page_contents WHERE id = ? AND page_key = ?\n      `).bind(parseInt(contentId), pageType).first();\n\n      if (!existingContent) {\n        return createErrorResponse(404, `${pageType}\u9875\u9762\u4E2D\u672A\u627E\u5230\u6307\u5B9A\u5185\u5BB9`);\n      }\n\n      // \u6DFB\u52A0\u66F4\u65B0\u65F6\u95F4\n      updateFields.push('updated_at = CURRENT_TIMESTAMP');\n      bindValues.push(parseInt(contentId));\n\n      // \u66F4\u65B0\u5185\u5BB9\n      await env.DB.prepare(`\n        UPDATE page_contents SET ${updateFields.join(', ')} WHERE id = ?\n      `).bind(...bindValues).run();\n\n      // \u67E5\u8BE2\u66F4\u65B0\u540E\u7684\u5185\u5BB9\n      const updatedContent = await env.DB.prepare(`\n        SELECT * FROM page_contents WHERE id = ?\n      `).bind(parseInt(contentId)).first();\n\n      return new Response(JSON.stringify({\n        success: true,\n        data: updatedContent,\n        message: `${pageType}\u9875\u9762\u5185\u5BB9\u66F4\u65B0\u6210\u529F`,\n        meta: {\n          page: pageType,\n          timestamp: new Date().toISOString()\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n    } catch (dbError) {\n      console.error(`\u66F4\u65B0${pageType}\u9875\u9762\u5185\u5BB9\u5931\u8D25:`, dbError);\n      return createErrorResponse(500, `\u6570\u636E\u5E93\u64CD\u4F5C\u5931\u8D25: ${dbError.message}`);\n    }\n\n  } catch (error) {\n    console.error(`\u66F4\u65B0${pageType}\u9875\u9762\u5185\u5BB9API\u9519\u8BEF:`, error);\n    return createErrorResponse(500, `\u66F4\u65B0${pageType}\u9875\u9762\u5185\u5BB9\u5931\u8D25`);\n  }\n}\n\n// Handle delete page content API (admin only)\nasync function handleDeletePageContent(request, env, pageType) {\n  try {\n    // \u7B80\u5355\u7684\u8BA4\u8BC1\u68C0\u67E5\n    const authHeader = request.headers.get('Authorization');\n    if (!authHeader) {\n      return createAuthError();\n    }\n\n    const url = new URL(request.url);\n    const contentId = url.pathname.split('/').pop();\n    \n    if (!contentId || isNaN(parseInt(contentId))) {\n      return createErrorResponse(400, '\u65E0\u6548\u7684\u5185\u5BB9ID');\n    }\n\n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u9A8C\u8BC1\u5185\u5BB9\u5C5E\u4E8E\u6307\u5B9A\u9875\u9762\n      const content = await env.DB.prepare(`\n        SELECT * FROM page_contents WHERE id = ? AND page_key = ?\n      `).bind(parseInt(contentId), pageType).first();\n\n      if (!content) {\n        return createErrorResponse(404, `${pageType}\u9875\u9762\u4E2D\u672A\u627E\u5230\u6307\u5B9A\u5185\u5BB9`);\n      }\n\n      // \u5220\u9664\u5185\u5BB9\n      await env.DB.prepare(`\n        DELETE FROM page_contents WHERE id = ?\n      `).bind(parseInt(contentId)).run();\n\n      return new Response(JSON.stringify({\n        success: true,\n        message: `${pageType}\u9875\u9762\u5185\u5BB9\u5220\u9664\u6210\u529F`,\n        data: { id: parseInt(contentId) },\n        meta: {\n          page: pageType,\n          timestamp: new Date().toISOString()\n        }\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n    } catch (dbError) {\n      console.error(`\u5220\u9664${pageType}\u9875\u9762\u5185\u5BB9\u5931\u8D25:`, dbError);\n      return createErrorResponse(500, `\u6570\u636E\u5E93\u64CD\u4F5C\u5931\u8D25: ${dbError.message}`);\n    }\n\n  } catch (error) {\n    console.error(`\u5220\u9664${pageType}\u9875\u9762\u5185\u5BB9API\u9519\u8BEF:`, error);\n    return createErrorResponse(500, `\u5220\u9664${pageType}\u9875\u9762\u5185\u5BB9\u5931\u8D25`);\n  }\n}\n\n// Handle get single product by product code (public, no auth required)\nasync function handleGetSingleProductByCode(request, env, productCode) {\n  try {\n    if (!env.DB) {\n      return createErrorResponse(500, 'D1\u6570\u636E\u5E93\u672A\u914D\u7F6E');\n    }\n\n    try {\n      // \u901A\u8FC7\u4EA7\u54C1\u4EE3\u7801\u67E5\u8BE2\u4EA7\u54C1\n      const product = await env.DB.prepare(`\n        SELECT id, product_code, name_zh, name_en, name_ru,\n               description_zh, description_en, description_ru,\n               image_url, gallery_images,\n               category, price_range, status, is_active,\n               sort_order, created_at, updated_at,\n               features_zh, features_en, features_ru,\n               specifications_zh, specifications_en, specifications_ru\n        FROM products\n        WHERE product_code = ? AND is_active = 1 AND status = 'published'\n      `).bind(productCode).first();\n\n      if (!product) {\n        return new Response(JSON.stringify({\n          success: false,\n          message: '\u4EA7\u54C1\u4E0D\u5B58\u5728\u6216\u5DF2\u505C\u7528'\n        }), {\n          status: 404,\n          headers: {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          }\n        });\n      }\n\n      const parseList = (value, fallback = []) => {\n        if (!value) return fallback;\n        if (Array.isArray(value)) return value;\n        if (typeof value === 'string') {\n          const trimmed = value.trim();\n          if (!trimmed) return fallback;\n          try {\n            const parsed = JSON.parse(trimmed);\n            if (Array.isArray(parsed)) {\n              return parsed;\n            }\n          } catch (_) {\n            return trimmed.split(/\\r?\\n/).map(item => item.trim()).filter(Boolean);\n          }\n        }\n        return fallback;\n      };\n\n      const normalizedProduct = {\n        ...product,\n        gallery_images: parseList(product.gallery_images, product.image_url ? [product.image_url] : []),\n        features_zh: parseList(product.features_zh),\n        features_en: parseList(product.features_en),\n        features_ru: parseList(product.features_ru),\n        specifications_zh: parseList(product.specifications_zh),\n        specifications_en: parseList(product.specifications_en),\n        specifications_ru: parseList(product.specifications_ru),\n      };\n\n      return new Response(JSON.stringify({\n        success: true,\n        data: normalizedProduct\n      }), {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n\n    } catch (dbError) {\n      console.error('\u901A\u8FC7\u4EA7\u54C1\u4EE3\u7801\u67E5\u8BE2\u4EA7\u54C1\u5931\u8D25:', dbError);\n      return createErrorResponse(500, `\u6570\u636E\u5E93\u67E5\u8BE2\u5931\u8D25: ${dbError.message}`);\n    }\n    \n  } catch (error) {\n    console.error('\u901A\u8FC7\u4EA7\u54C1\u4EE3\u7801\u83B7\u53D6\u4EA7\u54C1API\u9519\u8BEF:', error);\n    return createErrorResponse(500, '\u83B7\u53D6\u4EA7\u54C1\u5931\u8D25');\n  }\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/dist/_worker.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/nll/.npm-global/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/nll/.npm-global/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/dist/_worker.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/.wrangler/tmp/bundle-RJsB8e/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/nll/.npm-global/lib/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/.wrangler/tmp/bundle-RJsB8e/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/.wrangler/tmp/bundle-RJsB8e/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/.wrangler/tmp/pages-Zg5h5f/bundledWorker-0.5102207708433102.mjs\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/nll/.npm-global/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/nll/.npm-global/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/.wrangler/tmp/pages-Zg5h5f/bundledWorker-0.5102207708433102.mjs\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/.wrangler/tmp/bundle-Xbr3Da/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/nll/.npm-global/lib/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/.wrangler/tmp/bundle-Xbr3Da/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/nll/Documents/\u53EF\u4EE5\u7528\u7684\u7F51\u7AD9/.wrangler/tmp/bundle-Xbr3Da/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": ["urls", "checkURL", "__name", "drainBody", "middleware_ensure_req_body_drained_default", "reduceError", "jsonError", "middleware_miniflare3_json_error_default", "__INTERNAL_WRANGLER_MIDDLEWARE__", "middleware_ensure_req_body_drained_default", "middleware_miniflare3_json_error_default", "middleware_insertion_facade_default", "__facade_middleware__", "__facade_register__", "__facade_invokeChain__", "__facade_invoke__", "__facade_middleware__", "__Facade_ScheduledController__", "___Facade_ScheduledController__", "wrapExportedHandler", "__INTERNAL_WRANGLER_MIDDLEWARE__", "__facade_register__", "__facade_invoke__", "wrapWorkerEntrypoint", "WRAPPED_ENTRY", "middleware_insertion_facade_default", "middleware_loader_entry_default"]
}
